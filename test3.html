<!-- 
    <script src="https://unpkg.com/videojs-contrib-eme@3.11.0/dist/videojs-contrib-eme.js"></script> -->
    <!DOCTYPE html>
<html>
<head>
    <title>VideoJS HLS DRM Stream</title>
    <link href="https://unpkg.com/video.js/dist/video-js.min.css" rel="stylesheet">
    <script src="https://unpkg.com/video.js/dist/video.min.js"></script>
    <script src="https://unpkg.com/videojs-contrib-eme@3.11.0/dist/videojs-contrib-eme.min.js"></script>
</head>
<body>
    <video id="my_video" class="video-js vjs-default-skin" controls>
    </video>

    <script>
        var player = videojs('my_video');

        player.eme();

        player.src({
            //src: 'https://cdn.bitmovin.com/content/assets/art-of-motion_drm/m3u8s/11331.m3u8',
            //src: 'https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine-hls/hls.m3u8',
              src: 'https://nbalpng.akamaized.net/live-pz/b/hls-wvpr/NBATVD/index.m3u8?addUserInfo=1&start=LIVE&end=END&State=TX&PostalCode=75074&Zip=75074&LatLongRadius=33.03%3A-96.68&ISO3166=US&sessionId=1148452484442871128748824356874800000045778588485&csid=nba.com_live_dt_nba_tntot_backboardcam4&caid=nba_tntot_regular&afid=172446858&hdnts=exp%3D1684981484~acl%3D%2F*~hmac%3D1ed0cee36454803c59ed991a3f5d51a694da5c5d724b4ad5b20f98897d90fd4e&prof=48804%3Anba_web_live_transcodetest&pcaid=nba-manage-prod-1-891399&mcaid=0&ads=mr&_fw_vcid2=00av7642-gfr7-onah-hqli-o1b6pb9iivto&_fw_gdpr=0&_fw_gdpr_consent=&_fw_us_privacy=1YNN&_fw_is_lat=0&_is_lat=0&_fw_ae=d41d8cd98f00b204e9800998ecf8427e&_fw_h_user_agent=Mozilla%2F5.0(WindowsNT10.0%3BWin64%3Bx64)AppleWebKit%2F537.36(KHTML%2ClikeGecko)Chrome%2F105.0.0.0Safari%2F537.36&dai-debug=true&dai-mk=true&slid=NBA-NG-Comp&ptgt=s&slau=120x45_sync&w=120&h=45&flag=cmpn',
            type: 'application/x-mpegURL',
            emeHeaders: {
                "Authorizationtoken":"AuthToken1jZDdatwwEIWfZn0nI0uWLF34wmybZglLCulC2buxNM6qa1uOJCfZPH29-WmhNCEgRuLMOTPoa2brcDRYH1Ka4oo3K3axnID9yY23E4R0yqfgLeRjC3m656b3s82NHxZXtolxxvBPNqb4QeTs_Ws1Bxwg5o9DHz1MuQ-3i_oQl8IoFcv1XJzFMbl0Wp6mBzec-yMMWM-RUN2CtR0lhRRASkE1UaWlBJjpqlYjqyzPfuAIY9rY2mIHc5-ypu_9A9o3Pf5p7CKGxffZwY0xfn6ezKFqARkS0bYlKW1VEa0FEiUYtaY1naGYfXnZ8rrkU5H_8hqcCT76Lr1SfSOmzsTkO8SC77GOcxtNcC2GrJnTwQf3BMn5cQvxWHNFmRaFKgrGJWNCFaUUkklV0EpzmX19nFzAeD3WhVSiqkpeltk6ICS0LyKnWuhFvMLTt9nZutDMSAmKGMuWL3LWEZCdIlIr3XGKHRMiu9w265vLhglZ3-C4_fn9YtP8Wm9KBf4onnZ3brM7wPH6bj-tWLsXTbO_9-srZlbc_gY",
                "Applicationtoken":"1023",
                "Deviceprofile":"eyJtb2RlbCI6IkRlc2t0b3AiLCJvc1ZlcnNpb24iOiIxMCIsInZlbmRvck5hbWUiOiJNaWNyb3NvZnQiLCJvc05hbWUiOiJIVE1MNSIsImRldmljZVVVSUQiOiI4ZTQ1ZTAxYmVjNmE0ZGU3YmVjMjUxNTRjZTUyNmU0ZSJ9",
                "AzukiiMC":"IMC7.2.0_AN_D3.0.0_S0",
                "content-type":"text/plain",
                "Sec-Ch-Ua" : "Google Chrome\";v=\"113\", \"Chromium\";v=\"113\", \"Not-A.Brand\";v=\"24",
		        "Sec-Ch-Ua-Mobile" : "?0",
		        "Sec-Ch-Ua-Platform" : "\"Windows\"",
		        "Sec-Fetch-Dest" : "empty",
		        "Sec-Fetch-Mode" : "cors",
		        "Sec-Fetch-Site" : "same-site",
		        "User-Agent" : "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36"
            },
            withCredentials: true,
            keySystems: {
                'com.widevine.alpha': {
                    //url: 'https://cwip-shaka-proxy.appspot.com/no_auth'
                    //url: 'https://cwip-shaka-proxy.appspot.com/no_auth'
                      url: 'https://ottapp-appgw-amp-a.proda.nba.tv3cloud.com/v1/client/get-widevine-license?ownerUid=azuki&mediaId=NBATVD&sessionId=a3a7e54a-cd9d-4235-b584-5c0aed391563&is_dvr=false'
                }
            }
        });

        //player.play();
    </script>
</body>
</html>
